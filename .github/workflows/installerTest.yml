name: installer test
on: [push, pull_request]
jobs:
  Ubuntu:
    runs-on: ubuntu-latest
    steps:
      - name: checkout repository
        uses: actions/checkout@v2
      - name: run bash installer
        run: ./bashInstaller.sh --verbose --headless --no_update --no_build

  #I have no idea why this doesnt work but it doesnt so yeah
  macOS:
    runs-on: macos-latest
    steps:
      - name: checkout repository
        uses: actions/checkout@v2
      - name: run bash installer
        run: ./bashInstaller.sh --verbose --headless --no_update --no_build

  Windows:
    runs-on: windows-latest
    steps:
      - name: checkout repository
        uses: actions/checkout@v2
      - name: run powershell installer
        shell: pwsh
        run: ./powershellInstaller.ps1 --verbose --headless --no_update --no_build

  Shellcheck:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v2
      - name: Run ShellCheck
        uses: ludeeus/action-shellcheck@master
        env:
          SHELLCHECK_OPTS: -x -e SC2059 #ignore known printf format string errors
